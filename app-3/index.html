<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.1/css/bulma.min.css"
      integrity="sha512-ZRv40llEogRmoWgZwnsqke3HNzJ0kiI0+pcMgiz2bxO6Ew1DVBtWjVn0qjrXdT3+u+pSN36gLgmJiiQ3cQtyzA=="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
      integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
      crossorigin="anonymous"
    />
    <title>Upvote</title>
  </head>
  <body>
    <div id="app">
      <h2 class="title has-text-centered dividing-header">Upvote</h2>
      <div class="section">
        <article class="media" v-for="submission in sortedSubmissions" v-bind:key="submission.id" 
          v-bind:class="{'blue-border':submission.votes >= 100}">
          <figure class="media-left">
            <img v-bind:src="submission.submissionImage" alt="" class="image is-64x64" />
          </figure>
        
        <div class="media-content">
          <div class="content">
            <p>
              <strong>
                <a href="#" class="has-text-info">{{submission.title}}</a>
                <span class="is-small">#{{submission.id}}</span>
              </strong>
              <br />
                {{submission.description}}
              <br />
              <small class="is-size-7">
                Submitted by:
                <img
                  class="image is-24x24"
                  v-bind:src="submission.avatar"
                />
              </small>
            </p>
          </div>
        </div>
        <div class="media-right">
          <span class="icon is-small" v-on:click="upVote(submission.id)"> 
            <i class="fa fa-chevron-up" ></i>
            <strong class="has-text-info">{{submission.votes}}</strong>
          </span>
        </div>
        </article>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <script src="./seed.js"></script>
    <script src="./main.js"></script>
  </body>
</html>
